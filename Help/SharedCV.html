<!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.01//EN" "http://www.w3.org/TR/html4/strict.dtd">
<html>
<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<meta http-equiv="Content-Style-Type" content="text/css">
<title></title>
<meta name="Generator" content="Cocoa HTML Writer">
<meta name="CocoaVersion" content="1038.36">
<style type="text/css">
p.p1 {margin: 0.0px 0.0px 0.0px 0.0px; font: 9.0px Monaco; color: #000000; min-height: 12.0px}
p.p2 {margin: 0.0px 0.0px 0.0px 0.0px; font: 12.0px Helvetica; color: #000000}
p.p3 {margin: 0.0px 0.0px 0.0px 0.0px; font: 12.0px Helvetica; color: #000000; min-height: 14.0px}
p.p4 {margin: 0.0px 0.0px 0.0px 0.0px; font: 14.0px Helvetica}
p.p5 {margin: 0.0px 0.0px 0.0px 0.0px; font: 9.0px Monaco}
p.p6 {margin: 0.0px 0.0px 0.0px 0.0px; font: 9.0px Monaco; min-height: 12.0px}
p.p7 {margin: 0.0px 0.0px 0.0px 0.0px; font: 12.0px Helvetica}
p.p8 {margin: 0.0px 0.0px 0.0px 0.0px; font: 12.0px Helvetica; min-height: 14.0px}
p.p9 {margin: 0.0px 0.0px 0.0px 57.0px; text-indent: -57.0px; font: 12.0px Helvetica}
p.p10 {margin: 0.0px 0.0px 0.0px 57.0px; text-indent: -57.0px; font: 12.0px Helvetica; min-height: 14.0px}
p.p11 {margin: 0.0px 0.0px 0.0px 57.0px; text-indent: -57.0px; font: 14.0px Helvetica}
p.p12 {margin: 0.0px 0.0px 0.0px 57.0px; text-indent: -57.0px; font: 14.0px Helvetica; min-height: 17.0px}
p.p13 {margin: 0.0px 0.0px 0.0px 0.0px; font: 14.0px Helvetica; min-height: 17.0px}
p.p14 {margin: 0.0px 0.0px 0.0px 0.0px; font: 9.0px Monaco; color: #862223}
p.p15 {margin: 0.0px 0.0px 0.0px 0.0px; font: 9.0px Monaco; color: #4d6d13}
p.p16 {margin: 0.0px 0.0px 0.0px 57.0px; text-indent: -57.0px; font: 9.0px Monaco; min-height: 12.0px}
span.s1 {font: 18.0px Helvetica}
span.s2 {color: #1001d0}
span.s3 {color: #737373}
span.s4 {color: #008900}
span.s5 {color: #0122b6}
span.s6 {color: #000000}
span.s7 {color: #606060}
span.s8 {color: #4d6d13}
span.Apple-tab-span {white-space:pre}
</style>
</head>
<body>
<p class="p1"><br></p>
<p class="p2"><span class="s1"><b>SharedCV<span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span></b></span><b>a class that does CV stuff for SharedResources</b><span class="s1"><b><span class="Apple-tab-span">	</span></b></span></p>
<p class="p1"><br></p>
<p class="p1"><br></p>
<p class="p2"><b>Requires:</b></p>
<p class="p2">•<span class="Apple-converted-space">  </span>ProcessTools, a quark</p>
<p class="p2">•<span class="Apple-converted-space">  </span>OscGroups, external program, download from http://www.audiomulch.com/~rossb/code/oscgroups/</p>
<p class="p2">•<span class="Apple-converted-space">  </span>OscGroupClient, Les's altered version</p>
<p class="p2">•<span class="Apple-converted-space">  </span>NetAPI</p>
<p class="p3"><br></p>
<p class="p2">This class is extremely similar to the CV class in the Conductor quark.</p>
<p class="p3"><br></p>
<p class="p4"><b>Creation</b></p>
<p class="p3"><br></p>
<p class="p2"><span class="Apple-tab-span">	</span>These objects are ususally created by the NetworkGui.<span class="Apple-converted-space">  </span>For example:</p>
<p class="p3"><br></p>
<p class="p5"><span class="Apple-tab-span">	</span>(</p>
<p class="p6"><br></p>
<p class="p5"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span><span class="s2">var</span> api, matrix, rq;</p>
<p class="p5"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span>api = <span class="s2">NetAPI</span>.broadcast(<span class="s3">"Nick"</span>);</p>
<p class="p6"><br></p>
<p class="p5"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span>matrix = <span class="s2">NetworkGui</span>.make(api, [<span class="s4">\amp</span>], {<span class="s2">|gui,amp, freq|</span></p>
<p class="p5"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span>});</p>
<p class="p6"><span class="Apple-tab-span">	</span></p>
<p class="p5"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span>rq = matrix.addShared(\rq);</p>
<p class="p5"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span>matrix.show;</p>
<p class="p5"><span class="Apple-tab-span">	</span>)</p>
<p class="p6"><br></p>
<p class="p7"><span class="Apple-tab-span">	</span>The arguments amp and freq as well as the variable rq are all SharedCVs.</p>
<p class="p8"><br></p>
<p class="p9"><b><span class="Apple-tab-span">	</span>*new (container, shared, api, key)</b></p>
<p class="p9"><b><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span>container </b>- this would normally refer to the NetworkGui that created the object, but can be left nil.</p>
<p class="p9"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span><b>shared</b> - the SharedResource which is being tied to the SharedCV.</p>
<p class="p9"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span><b>api</b> - an instance of NetAPI. If you are not planning on sharing this value remotely, this can be left as nil.</p>
<p class="p9"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span><b>key</b> - the key underwhich this SharedResource is shared on the network. If you are not planning on sharing this value remotely, this can be left as nil.</p>
<p class="p10"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span></p>
<p class="p11"><b>Methods</b></p>
<p class="p12"><b></b><br></p>
<p class="p4"><b>Setting the range of values on existing SharedCVs</b></p>
<p class="p13"><br></p>
<p class="p7"><b><span class="Apple-tab-span">	</span>spec_(spec, default value)<span class="Apple-converted-space"> </span></b></p>
<p class="p7"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span><b>spec</b> - Any object that responds to asSpec (Nil, Symbol, ControlSpec, Array)<span class="Apple-converted-space">  </span>with a ControlSpec</p>
<p class="p7"><b><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span>defaultValue </b>- the initial value of the CV</p>
<p class="p8"><span class="Apple-tab-span">	</span></p>
<p class="p7"><b><span class="Apple-tab-span">	</span>sp( val, min, max, step, warp)<span class="Apple-tab-span">	</span></b></p>
<p class="p7"><b><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span>val <span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span></b>inital value</p>
<p class="p7"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span><b>min<span class="Apple-converted-space"> </span></b> <span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span>smallest possible value</p>
<p class="p8"><span class="Apple-tab-span">	</span></p>
<p class="p7"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span><b>max <span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span></b>largest possible value</p>
<p class="p7"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span><b>step<span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span></b>smallest incremental change in GUI</p>
<p class="p7"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span><b>warp<span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span></b>either 'linear' or 'exponential'</p>
<p class="p7"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span>In the case of exponential warp,</p>
<p class="p7"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span>min and max must be non-zero and the same sign.</p>
<p class="p10"><br></p>
<p class="p4"><b>Accessing<span class="Apple-converted-space"> </span></b></p>
<p class="p6"><span class="Apple-tab-span">	</span></p>
<p class="p7"><b><span class="Apple-tab-span">	</span>value</b></p>
<p class="p7"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span>Answer the current value of the control. This is how the control is read within tasks and patterns</p>
<p class="p8"><br></p>
<p class="p7"><b><span class="Apple-tab-span">	</span>input<span class="Apple-converted-space"> </span></b></p>
<p class="p7"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span>a number ranging form 0 to 1 that corresponds to postion of<span class="Apple-converted-space">  </span>the current value between min and max</p>
<p class="p8"><span class="Apple-tab-span">	</span></p>
<p class="p7"><b><span class="Apple-tab-span">	</span>input_ (inputValue, changer)</b></p>
<p class="p7"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span><b>inputValue</b> - an inputValue ranging form 0 to 1 results in this.value ranging from min to max. <span class="Apple-converted-space"> </span></p>
<p class="p7"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span><b>changer</b> - the object which has chaned the inputValue</p>
<p class="p8"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span></p>
<p class="p7"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span>This method is typically used by external controls (such as MIDI) and GUI views to alter the CV.</p>
<p class="p8"><br></p>
<p class="p7"><b><span class="Apple-tab-span">	</span>value_ (newValue, changer)</b></p>
<p class="p7"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span>Set the current value of the control, irrespective of the range settings.</p>
<p class="p8"><br></p>
<p class="p7"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span><b>newValue</b> - the new value of the associated SharedResource. <span class="Apple-converted-space"> </span></p>
<p class="p7"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span><b>changer</b> - the object which has chaned the inputValue</p>
<p class="p8"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span></p>
<p class="p8"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span></p>
<p class="p4"><b>Using to play audio</b></p>
<p class="p13"><b></b><br></p>
<p class="p7"><b><span class="Apple-tab-span">	</span>Tasks</b></p>
<p class="p7"><b><span class="Apple-tab-span">	</span></b>Within a function, SharedCVs are accessed using <b>value </b>and <b>input </b>and<span class="Apple-converted-space">  </span>altered using <b>value_ </b>and <b>input_</b>.<span class="Apple-converted-space"> </span></p>
<p class="p8"><b><span class="Apple-tab-span">	</span></b></p>
<p class="p7"><b><span class="Apple-tab-span">	</span>(</b></p>
<p class="p5"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span><span class="s5">Task</span>({</p>
<p class="p5"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span>10.do({<span class="Apple-converted-space"> </span></p>
<p class="p14"><span class="s6"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span>a.input.post; </span><span class="s7">" "</span><span class="s6">.post;<span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span></span>// print the value scaled to the range [0,1]</p>
<p class="p14"><span class="s6"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span>a.value.postln; <span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span></span>// print the actual value</p>
<p class="p14"><span class="s6"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span>a.input_(1.0.rand); <span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span></span>// select a new value at random</p>
<p class="p14"><span class="s6"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span></span>// the weighting of values will conform to the warp</p>
<p class="p14"><span class="s6"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span></span>// with \exp, values fall uniformly in each octave</p>
<p class="p5"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span>wait(0.1);</p>
<p class="p5"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span>})</p>
<p class="p5"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span>}).play(<span class="s5">AppClock</span>)</p>
<p class="p7"><span class="Apple-tab-span">	</span>)</p>
<p class="p8"><span class="Apple-tab-span">	</span></p>
<p class="p7"><b><span class="Apple-tab-span">	</span>Patterns</b></p>
<p class="p7"><b><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span></b>Within a pattern definition, a SharedCV can directly substitute for a Pattern:</p>
<p class="p5"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span>(</p>
<p class="p5"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span><span class="s5">SynthDescLib</span>.global.read;</p>
<p class="p15"><span class="s6"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span></span><span class="s5">Pbind</span><span class="s6">(<span class="Apple-tab-span">	</span></span>\instrument<span class="s6">,<span class="Apple-tab-span">	</span></span>\default<span class="s6">,<span class="Apple-converted-space"> </span></span></p>
<p class="p5"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span><span class="s8">\freq</span>, a,<span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span></p>
<p class="p5"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span><span class="s8">\db</span>, b,</p>
<p class="p5"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span><span class="s8">\dur</span>, 0.2</p>
<p class="p5"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span>).play(quant: 0);</p>
<p class="p5"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span>)</p>
<p class="p2"><b><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span></b>Pfunc can be used to change the SharedCV from within a Pattern.</p>
<p class="p5"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span>(</p>
<p class="p5"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span><span class="s5">SynthDescLib</span>.global.read;</p>
<p class="p15"><span class="s6"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span></span><span class="s5">Pbind</span><span class="s6">(<span class="Apple-tab-span">	</span></span>\instrument<span class="s6">,<span class="Apple-tab-span">	</span></span>\default<span class="s6">,<span class="Apple-converted-space"> </span></span></p>
<p class="p5"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span><span class="s8">\freq</span>, <span class="s5">Pwhite</span>(100, 1000).round(100),<span class="Apple-tab-span">	</span></p>
<p class="p5"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span><span class="s8">\placeholder</span>, <span class="s5">Pfunc</span>({ <span class="s5">arg</span> ev; a.value_(ev.at(<span class="s8">\freq</span>), ev) }),</p>
<p class="p5"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span><span class="s8">\db</span>, b,</p>
<p class="p5"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span><span class="s8">\dur</span>, 0.2</p>
<p class="p5"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span>).play;</p>
<p class="p5"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span>)</p>
<p class="p13"><br></p>
<p class="p7"><b><span class="Apple-tab-span">	</span>Busses</b></p>
<p class="p8"><b><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span></b></p>
<p class="p7"><b><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span>bus(s)</b></p>
<p class="p7"><b><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span>s</b> - A server on which to create a bus</p>
<p class="p7"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span>Create a control bus on the specified server, and map the incoming values to this bus.</p>
<p class="p7"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span>Reurns the bus.</p>
<p class="p10"><br></p>
<p class="p9"><b><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span>freeBus ()</b></p>
<p class="p9"><b><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span></b>Free the bus on the server</p>
<p class="p16"><br></p>
<p class="p9"><b><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span>kr ()</b></p>
<p class="p9"><b><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span></b>JitLib support</p>
<p class="p10"><br></p>
</body>
</html>
