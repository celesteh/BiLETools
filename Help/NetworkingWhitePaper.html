<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.1 plus MathML 2.0//EN" "http://www.w3.org/Math/DTD/mathml2/xhtml-math11-f.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" lang="en-US">
<!--This file was converted to xhtml by LibreOffice - see https://cgit.freedesktop.org/libreoffice/core/tree/filter/source/xslt for the code.-->

<head profile="http://dublincore.org/documents/dcmi-terms/">
<meta http-equiv="Content-Type" content="application/xhtml+xml; charset=utf-8"/>
<title xml:lang="en-US">- no title specified</title>
<meta name="DCTERMS.title" content="" xml:lang="en-US"/>

<meta name="DCTERMS.language" content="en-US" scheme="DCTERMS.RFC4646"/>
<meta name="DCTERMS.source" content="http://xml.openoffice.org/odf2xhtml"/>






<meta name="xsl:vendor" content="libxslt"/>
<link rel="schema.DC" href="http://purl.org/dc/elements/1.1/" hreflang="en"/>
<link rel="schema.DCTERMS" href="http://purl.org/dc/terms/" hreflang="en"/>
<link rel="schema.DCTYPE" href="http://purl.org/dc/dcmitype/" hreflang="en"/>
<link rel="schema.DCAM" href="http://purl.org/dc/dcam/" hreflang="en"/>

<style>
    table { border-collapse:collapse; border-spacing:0; empty-cells:show }
    td, th { vertical-align:top; font-size:12pt;}
    h1, h2, h3, h4, h5, h6 { clear:both;}
    ol, ul { margin:0; padding:0;}
    li { list-style: none; margin:0; padding:0;}
    span.footnodeNumber { padding-right:1em; }
    span.annotation_style_by_filter { font-size:95%; font-family:Arial; background-color:#fff000;  margin:0; border:0; padding:0;  }
    span.heading_numbering { margin-right: 0.8rem; }* { margin:0;}
    .paragraph-P1{ font-size:12pt; font-family:'Liberation Serif'; writing-mode:horizontal-tb; direction:ltr;}
    .paragraph-P10{ font-size:12pt; font-family:'Liberation Serif'; writing-mode:horizontal-tb; direction:ltr;margin-right:-0.011cm; margin-top:0.423cm; margin-bottom:0.212cm; text-indent:-1.524cm; }
    .paragraph-P11{ font-size:12pt; font-family:'Liberation Serif'; writing-mode:horizontal-tb; direction:ltr;margin-top:0cm; margin-bottom:0.212cm; }
    .paragraph-P2{ font-size:12pt; font-family:ArialMT; writing-mode:horizontal-tb; direction:ltr;}
    .paragraph-P3{ font-size:12pt; font-family:ArialMT; writing-mode:horizontal-tb; direction:ltr;font-weight:normal; }
    .paragraph-P4{ font-size:12pt; font-family:ArialMT; writing-mode:horizontal-tb; direction:ltr;font-weight:normal; }
    .paragraph-P5{ font-size:12pt; font-family:ArialMT; writing-mode:horizontal-tb; direction:ltr;font-style:normal; font-weight:normal; }
    .paragraph-P6{ font-size:12pt; font-family:ArialMT; writing-mode:horizontal-tb; direction:ltr;margin-top:0cm; margin-bottom:0.212cm; font-style:normal; font-weight:normal; }
    .paragraph-P7{ font-size:12pt; font-family:'Liberation Serif'; writing-mode:horizontal-tb; direction:ltr;margin-right:-0.011cm; margin-top:0.423cm; margin-bottom:0.212cm; text-indent:-0.762cm; }
    .paragraph-P8{ font-size:12pt; font-family:'Liberation Serif'; writing-mode:horizontal-tb; direction:ltr;margin-right:-0.011cm; margin-top:0.423cm; margin-bottom:0.212cm; text-indent:-1.016cm; }
    .paragraph-P9{ font-size:12pt; font-family:'Liberation Serif'; writing-mode:horizontal-tb; direction:ltr;margin-right:-0.011cm; margin-top:0.423cm; margin-bottom:0.212cm; text-indent:-1.27cm; }
    .paragraph-Standard{ font-size:12pt; font-family:'Liberation Serif'; writing-mode:horizontal-tb; direction:ltr;}
    .text-T1{ font-family:ArialMT; font-size:12pt; }
    .text-T10{ font-family:ArialMT; font-size:11pt; font-style:italic; font-weight:bold; }
    .text-T11{ font-family:ArialMT; font-size:11pt; font-style:normal; font-weight:normal; }
    .text-T12{ font-family:TimesNewRomanPSMT; font-size:12pt; font-weight:normal; }
    .text-T13{ font-family:TimesNewRomanPSMT; font-size:12pt; font-style:normal; font-weight:normal; }
    .text-T14{ font-family:Monaco; font-size:10pt; font-style:normal; font-weight:normal; }
    .text-T15{ font-family:Monaco; font-size:12pt; font-style:normal; font-weight:normal; }
    .text-T2{ font-family:ArialMT; font-size:12pt; font-weight:normal; }
    .text-T3{ font-family:ArialMT; font-size:12pt; font-style:normal; font-weight:normal; }
    .text-T4{ font-family:ArialMT; font-size:12pt; font-style:normal; font-weight:bold; }
    .text-T5{ font-family:ArialMT; font-size:16pt; font-weight:bold; }
    .text-T6{ font-family:ArialMT; font-size:16pt; font-style:normal; font-weight:bold; }
    .text-T7{ font-family:ArialMT; font-size:14pt; font-style:italic; font-weight:bold; }
    .text-T8{ font-family:ArialMT; font-size:14pt; font-style:normal; font-weight:bold; }
    .text-T9{ font-family:ArialMT; font-size:9pt; font-style:normal; font-weight:normal; }
    /* ODF styles with no properties representable as CSS:
    .dp1  { } */
</style>
</head>

<body dir="ltr" style="max-width:21.001cm;margin-top:2cm; margin-bottom:2cm; margin-left:2cm; margin-right:2cm; ">

<p class="paragraph-P1"><span class="text-T1">This document describes the networking infrastructure in use by BiLE.</span><span class="text-T1"/></p>
<p class="paragraph-P2"> </p>
<p class="paragraph-Standard"><span class="text-T1">The goal of the infrastructure design has been flexibility for real time changes in sharing network data and calling remote methods for users of languages like supercollider.    While this flexibility is somewhat lost to users of inflexible languages like MAX, they, nevertheless, can benefit from having a structure for data sharing.</span><span class="text-T1"/></p>
<p class="paragraph-P2"> </p><p class="paragraph-P2"> </p>
<p class="paragraph-P7"><span class="text-T5">Network Models</span><span class="text-T2"/></p>
<p class="paragraph-P4"> </p>
<p class="paragraph-Standard"><span class="text-T2">    If there is a good reason, for example, a remote user, we support OSCGroups as a means of sharing data.</span><span class="text-T2"/></p>

<p class="paragraph-Standard"><span class="text-T2">    If all users are located together on the same subnet, then we use broadcast on port 57120.</span><span class="text-T2"/></p>
<p class="paragraph-P3"> </p>
<p class="paragraph-P7"><span class="text-T5">OSC Prefix</span><span class="text-T2"/></p>
<p class="paragraph-P4"> </p>
<p class="paragraph-Standard"><span class="text-T2">    By convention, all OSC messages start with '/bile/'</span><span class="text-T2"/></p>

<p class="paragraph-Standard"><span class="text-T12">    </span><span class="text-T2"/></p>

<p class="paragraph-P7"><span class="text-T5">Data Restrictions</span><span class="text-T2"/></p>
<p class="paragraph-P4"> </p>
<p class="paragraph-Standard"><span class="text-T2">    Strings must all be ASCII. Non ASCII characters will be ignored.</span><span class="text-T2"/></p>
<p class="paragraph-P3"> </p>
<p class="paragraph-P7"><span class="text-T5">Establishing Communication</span><span class="text-T2"/></p>

<p class="paragraph-P8"><span class="text-T7">Identity</span><span class="text-T3"/></p>

<p class="paragraph-P9"><span class="text-T4">ID</span><span class="text-T3"/></p>

<p class="paragraph-P1"><span class="text-T3">            Upon joining the network, users should announce their identity:</span><span class="text-T3"/></p>

<p class="paragraph-Standard"><span class="text-T13">    </span><span class="text-T3"/></p>

<p class="paragraph-Standard"><span class="text-T13">            </span><span class="text-T14">/bile/API/ID nickname ipaddress port</span></p>

<p class="paragraph-P1"><span class="text-T9">    </span><span class="text-T3"/></p>

<p class="paragraph-Standard"><span class="text-T3">            Nicknames must be ASCII only. Every user must have a unique nickname. “API” is reserved and cannot be used as a nickname.</span><span class="text-T3"/></p>

<p class="paragraph-Standard"><span class="text-T13">    </span><span class="text-T3"/></p>

<p class="paragraph-P10"><span class="text-T10">Example:</span><span class="text-T3"/></p>

<p class="paragraph-P1"><span class="text-T9">    </span><span class="text-T3"/></p>

<p class="paragraph-Standard"><span class="text-T13">            </span><span class="text-T14">/bile/API/ID Nick 192.168.1.66 57120</span></p>

<p class="paragraph-P1"><span class="text-T9">            </span><span class="text-T3"/></p>

<p class="paragraph-Standard"><span class="text-T3">            Note that because multicast echoes back, users may see their own ID arrive as an announcement.</span><span class="text-T3"/></p>

<p class="paragraph-Standard"><span class="text-T13">    </span><span class="text-T3"/></p>

<p class="paragraph-P9"><span class="text-T4">IDQuery</span><span class="text-T3"/></p>

<p class="paragraph-P1"><span class="text-T9">            </span><span class="text-T3"/></p>

<p class="paragraph-Standard"><span class="text-T3">            Users should also send out their ID in response to an IDQuery:</span><span class="text-T3"/></p>

<p class="paragraph-Standard"><span class="text-T13">            </span><span class="text-T3"/></p>

<p class="paragraph-Standard"><span class="text-T13">            </span><span class="text-T14">/bile/API/IDQuery</span></p>

<p class="paragraph-P1"><span class="text-T9">            </span><span class="text-T3"/></p>

<p class="paragraph-Standard"><span class="text-T13"> </span><span class="text-T3">          Users can send this message at any time, in order to compile a list of everyone on the network.</span></p>

<p class="paragraph-Standard"><span class="text-T13">            </span><span class="text-T3"/></p>

<p class="paragraph-P8"><span class="text-T7">API</span><span class="text-T3"/></p>

<p class="paragraph-P9"><span class="text-T4">Query</span><span class="text-T3"/></p>

<p class="paragraph-P1"><span class="text-T3">                Users can enquire what methods they can remotely invoke and what data they can request.</span><span class="text-T3"/></p>

<p class="paragraph-Standard"><span class="text-T13">                </span><span class="text-T3"/></p>

<p class="paragraph-Standard"><span class="text-T13">                </span><span class="text-T14">/bile/API/Query</span></p>

<p class="paragraph-P1"><span class="text-T9">                </span><span class="text-T3"/></p>

<p class="paragraph-Standard"><span class="text-T11">                In reply to this, users should send /bile/API/Key and /bile/API/Shared (see below)</span><span class="text-T3"/></p>

<p class="paragraph-Standard"><span class="text-T13">                </span><span class="text-T3"/></p>

<p class="paragraph-P9"><span class="text-T4">Key</span><span class="text-T3"/></p>

<p class="paragraph-P1"><span class="text-T3">                Keys represent remote methods. The user should report their accessible methods in response to a Query</span><span class="text-T3"/></p>

<p class="paragraph-Standard"><span class="text-T3">                </span><span class="text-T3"/></p>

<p class="paragraph-Standard"><span class="text-T13">                </span><span class="text-T14">/bile/API/Key symbol desc nickname</span></p>

<p class="paragraph-P1"><span class="text-T9">                </span><span class="text-T3"/></p>

<p class="paragraph-Standard"><span class="text-T3">                The symbol is an OSC message that the user is listening for.</span><span class="text-T3"/></p>

<p class="paragraph-Standard"><span class="text-T3">                The desc is a text based description of what this message does. It should include a usage example.</span><span class="text-T3"/></p>

<p class="paragraph-Standard"><span class="text-T3">                The nickname is the name of the user that accepts this message.</span><span class="text-T3"/></p>

<p class="paragraph-Standard"><span class="text-T3">                </span><span class="text-T3"/></p>

<p class="paragraph-P10"><span class="text-T10">Example</span><span class="text-T3"/></p>

<p class="paragraph-P1"><span class="text-T9">                </span><span class="text-T3"/></p>

<p class="paragraph-Standard"><span class="text-T13">                </span><span class="text-T14">/bile/API/Key /bile/msg "For chatting. Usage: msg, nick, text" Nick</span></p>

<p class="paragraph-P9"><span class="text-T4">    Shared</span><span class="text-T3"/></p>

<p class="paragraph-P1"><span class="text-T3">                Shared represents available data streams.    Sources may include input </span><span class="text-T3">devices, control data sent to running audio processes or analysis.    The user should report their shared data response to a Query</span><span class="text-T3"/></p>

<p class="paragraph-Standard"><span class="text-T15">                </span><span class="text-T14">/bile/API/Shared    symbol desc</span></p>

<p class="paragraph-P1"><span class="text-T3">                The symbol is an OSC message that the user sends with.    The format of this should be</span><span class="text-T3"/></p>

<p class="paragraph-Standard"><span class="text-T15">                </span><span class="text-T14">/bile/nickname/symbol</span></p>

<p class="paragraph-P1"><span class="text-T3">                The desc is a text based description of the data. If the range is not between 0-1, it should mention this.</span><span class="text-T3"/></p>

<p class="paragraph-Standard"><span class="text-T3">                The nickname is the name of the user that accepts this message.</span><span class="text-T3"/></p>

<p class="paragraph-Standard"><span class="text-T13">                </span><span class="text-T3"/></p>

<p class="paragraph-P10"><span class="text-T10">Example</span><span class="text-T3"/></p>

<p class="paragraph-Standard"><span class="text-T15">                </span><span class="text-T14">/bile/API/Shared /bile/Nick/freq "Frequency. Not scaled."</span></p>

<p class="paragraph-P7"><span class="text-T6">Listening</span><span class="text-T3"/></p>

<p class="paragraph-P9"><span class="text-T4">RegisterListener</span><span class="text-T3"/></p>

<p class="paragraph-P11"><span class="text-T3">                    Shared data will not be sent out if no one has requested it and it may be sent either directly to interested users or to the entire group, at the sender's discretion.    In order to ensure receiving the data stream, a user must register as a listener.</span><span class="text-T3"/></p>

<p class="paragraph-Standard"><span class="text-T15">                </span><span class="text-T14">/bile/API/registerListener symbol nickname ip port</span></p>

<p class="paragraph-P1"><span class="text-T3">                The symbol is an OSC message that the user will be listening for.    It should correspond with a previously advertised shared item.    If the receiver of this message recognises their own nickname in the symbol (which is formatted </span><span class="text-T14">/bile/nickname/symbol</span><span class="text-T3">), they should return an error:</span><span class="text-T14"> /bileAPI/Error/noSuchSymbol</span></p>

<p class="paragraph-Standard"><span class="text-T3">                The nickname is the name of the user that will accept the symbol as a message.</span><span class="text-T3"/></p>

<p class="paragraph-Standard"><span class="text-T3">                The ip is the ip address of the user that will accept the symbol as a message.</span><span class="text-T3"/></p>

<p class="paragraph-Standard"><span class="text-T3">                The port is the port of the user that will accept the symbol as a message.</span><span class="text-T3"/></p>

<p class="paragraph-P10"><span class="text-T10">Example</span><span class="text-T3"/></p>

<p class="paragraph-P1"><span class="text-T15">                </span><span class="text-T14">/bile/API/registerListener /bile/Nick/freq Shelly    192.168.1.67 57120</span></p>
<p class="paragraph-P5"> </p>
<p class="paragraph-P8"><span class="text-T7">Error</span><span class="text-T3"/></p>

<p class="paragraph-P9"><span class="text-T4">noSuchSymbol</span><span class="text-T3"/></p>

<p class="paragraph-P11"><span class="text-T3">                    In the case that a user receives a request to register a listener or to remove a listener for data that they are not sharing, they can reply with </span><span class="text-T3"/></p>

<p class="paragraph-P1"><span class="text-T15">                </span><span class="text-T14">/bile/API/Error/noSuchSymbol OSCsymbol</span></p>

<p class="paragraph-P1"><span class="text-T3">                The symbol is an OSC message that the user tried to start or stop listening to.    </span><span class="text-T3">It is formatted </span><span class="text-T14">/bile/nickname/symbol.</span><span class="text-T3">    Users should not reply with an error unless they recognise their own nickname as the middle element of the OSC message.    This message may be sent directly to the confused user.</span></p>
<p class="paragraph-P5"> </p>
<p class="paragraph-P1"><span class="text-T10">Example</span><span class="text-T3"> </span></p>

<p class="paragraph-P1"><span class="text-T15">                </span><span class="text-T14">/bile/API/Error/noSuchSymbol /bile/Nick/freq</span></p>

<p class="paragraph-P8"><span class="text-T7">De-listening</span><span class="text-T3"/></p>

<p class="paragraph-P9"><span class="text-T8">RemoveListener</span><span class="text-T3"/></p>

<p class="paragraph-P11"><span class="text-T3">                        To announce an intention to ignore subsequent data, a user can ask to be removed.</span><span class="text-T3"/></p>

<p class="paragraph-Standard"><span class="text-T15">                </span><span class="text-T14">/bile/API/removeListener symbol nickname ip</span></p>

<p class="paragraph-P1"><span class="text-T3">                The symbol is an OSC message that the user will no longer be listening for.    If the receiver of this message sees their nickname in the symbol which is formatted </span><span class="text-T14">/bile/nickname/symbol</span><span class="text-T3">), they can reply with </span><span class="text-T14">/bile/API/Error/noSuchSymbol symbol</span></p>

<p class="paragraph-Standard"><span class="text-T3">                The nickname is the name of the user that will no longer accept the symbol as a message.</span><span class="text-T3"/></p>

<p class="paragraph-Standard"><span class="text-T3">                The ip is the ip address of the user that will no longer accept the symbol as a message.</span><span class="text-T3"/></p>

<p class="paragraph-P10"><span class="text-T10">Example</span><span class="text-T3"/></p>

<p class="paragraph-Standard"><span class="text-T15">                </span><span class="text-T14">/bile/API/removeListener    /bile/Nick/freq Shelly    192.168.1.67</span></p>

<p class="paragraph-P9"><span class="text-T4">RemoveAll</span><span class="text-T3"/></p>

<p class="paragraph-P11"><span class="text-T3">                        Users who are quitting the network can asked to be removed form everything that they were listening to.</span><span class="text-T3"/></p>

<p class="paragraph-Standard"><span class="text-T15">                </span><span class="text-T14">/bile/API/removeAll    nickname ip </span></p>

<p class="paragraph-P1"><span class="text-T3">                The nickname is the name of the user that will no longer accept any shared data.</span><span class="text-T3"/></p>

<p class="paragraph-Standard"><span class="text-T3">                The ip is the ip address of the user that will no longer accept any shared data.</span><span class="text-T3"/></p>

<p class="paragraph-P10"><span class="text-T10">Example</span><span class="text-T3"/></p>

<p class="paragraph-Standard"><span class="text-T15">                </span><span class="text-T14">/bile/API/removeAll    Nick    192.168.1.66</span></p>

<p class="paragraph-P7"><span class="text-T6">Commonly Used Messages</span><span class="text-T3"/></p>

<p class="paragraph-P8"><span class="text-T7">Chatting</span><span class="text-T3"/></p>

<p class="paragraph-P9"><span class="text-T4">Msg</span><span class="text-T3"/></p>

<p class="paragraph-P11"><span class="text-T3">                    This is used for chatting.</span><span class="text-T3"/></p>

<p class="paragraph-Standard"><span class="text-T15">                </span><span class="text-T14">/bile/msg nickname text</span></p>

<p class="paragraph-P1"><span class="text-T3">                The nickname is the name of the user who is sending the message.</span><span class="text-T3"/></p>

<p class="paragraph-Standard"><span class="text-T3">                The text is the text that the user wishes to send to the group.</span><span class="text-T3"/></p>

<p class="paragraph-Standard"><span class="text-T3">                </span><span class="text-T3"/></p>

<p class="paragraph-P8"><span class="text-T7">Clock</span><span class="text-T3"/></p>

<p class="paragraph-P11"><span class="text-T3">                    This is for a shared stopwatch and not for serious timing applications</span><span class="text-T3"/></p>

<p class="paragraph-P9"><span class="text-T4">Clock start or stop</span><span class="text-T3"/></p>

<p class="paragraph-P11"><span class="text-T15">                    </span><span class="text-T14">/bile/clock/clock symbol</span></p>

<p class="paragraph-P1"><span class="text-T3">            The symbol is either start or stop.</span><span class="text-T3"/></p>

<p class="paragraph-P9"><span class="text-T4">Reset</span><span class="text-T3"/></p>

<p class="paragraph-P11"><span class="text-T3">                  Reset the clock to zero.</span><span class="text-T3"/></p>

<p class="paragraph-P11"><span class="text-T15">                    </span><span class="text-T14">/bile/clock/reset</span></p>

<p class="paragraph-P9"><span class="text-T4">Set</span><span class="text-T3"/></p>

<p class="paragraph-P11"><span class="text-T3">                    Set the clock time</span><span class="text-T3"/></p>

<p class="paragraph-P11"><span class="text-T15">                    </span><span class="text-T14">/bile/clock/set minutes seconds</span></p>

<p class="paragraph-P11"><span class="text-T3">                    Minutes is the number of minutes past zero.</span><span class="text-T3"/></p>

<p class="paragraph-P11"><span class="text-T3">                    Seconds is the number of seconds past zero.</span><span class="text-T3"/></p>
<p class="paragraph-P6"> </p>
<p class="paragraph-P7"><span class="text-T6">Proposed Additions</span><span class="text-T3"/></p>

<p class="paragraph-P1"><span class="text-T3">        Because users can silently join, leave and re-join the network, it could be a good idea to have users time out after a period of silence, maybe around 30 seconds or so.    To stay active, they would need to send I'm still here messages.</span><span class="text-T3"/></p>

<p class="paragraph-P1"><span class="text-T3">        </span><span class="text-T3"/></p>

<p class="paragraph-Standard"><span class="text-T3">        There should possibly also be a way for a user to announce that they have just arrived, so, for example, if a SuperCollider user recompiles, her connection will think of itself as new and other users will need to delete or recreate connections depending on that user.</span><span class="text-T3"/></p>
</body>

</html>
